<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The `use_p4!` macro allows for P4 programs to be directly integrated into Rust programs."><title>p4_macro - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="p4_macro" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../static.files/storage-3a5871a4.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../p4_macro/index.html">p4_<wbr>macro</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#macros">Crate Items</a></h3><ul class="block"><li><a href="#macros" title="Macros">Macros</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>p4_macro</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/p4_macro/lib.rs.html#3-162">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The <a href="macro.use_p4.html" title="macro p4_macro::use_p4"><code>use_p4!</code></a> macro allows for P4 programs to be directly integrated into
Rust programs.</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="macro">p4_macro::use_p4!</span>(<span class="string">"path/to/p4/program.p4"</span>);</code></pre></div>
<p>This will generate a <code>main_pipeline</code> struct that implements the
<a href="../p4rs/trait.Pipeline.html">Pipeline</a> trait. The <a href="macro.use_p4.html" title="macro p4_macro::use_p4"><code>use_p4!</code></a> macro expands
directly in to <code>x4c</code> compiled code. This includes all data structures,
parsers and control blocks.</p>
<p>To customize the name of the generated pipeline use the <code>pipeline_name</code>
parameter.</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="macro">p4_macro::use_p4!</span>(p4 = <span class="string">"path/to/p4/program.p4"</span>, pipeline_name = <span class="string">"muffin"</span>);</code></pre></div>
<p>This will result in a <code>muffin_pipeline</code> struct being being generated.</p>
<p>For documentation on using <a href="../p4rs/trait.Pipeline.html">Pipeline</a> trait, see the
<a href="../p4rs/index.html">p4rs</a> docs.</p>
</div></details><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">§</a></h2><dl class="item-table"><dt><a class="macro" href="macro.use_p4.html" title="macro p4_macro::use_p4">use_p4</a></dt><dd>The <code>use_p4!</code> macro uses the <code>x4c</code> compiler to generate Rust code from a P4
program. The macro itself expands into the generated code. The macro can be
called with only the path to the P4 program as an argument or, it can be
called with the path to the P4 program plus the name to use for the
generated pipeline object.</dd></dl></section></div></main></body></html>